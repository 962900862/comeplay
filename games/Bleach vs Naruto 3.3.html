<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Bleach vs Naruto 3.3 is an exciting 2D fighting game that brings together characters from the iconic anime series Naruto and Bleach for intense battles. Experience stunning special effects and well-designed combo systems with single and multiplayer modes.">
    <meta name="keywords" content="Bleach vs Naruto,fighting game,anime game,Naruto,Bleach,multiplayer">
    <title>Bleach vs Naruto 3.3 - Anime Fighting Game | Free Experience</title>
    <meta property="og:title" content="Bleach vs Naruto 3.3 - Anime Fighting Game">
    <meta property="og:description" content="Experience intense battles using classic characters from Naruto and Bleach series in this exciting fighting game.">
    <meta property="og:type" content="game">
    <meta property="og:image" content="https://hoanghamobile.com/tin-tuc/wp-content/uploads/2023/09/naruto-vs-bleach-thumb.jpg">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            bg: '#0F0F15',
                            surface: '#1F1F2C',
                            text: '#E2E8F0'
                        }
                    }
                }
            }
        }
    </script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
        // Theme management
        const themeConfig = {
            dark: {
                background: '#0F0F15',
                surface: '#1F1F2C',
                text: '#E2E8F0'
            },
            light: {
                background: '#FFFFFF',
                surface: '#F3F4F6',
                text: '#1F2937'
            }
        };

        function applyTheme(isDark) {
            const theme = isDark ? themeConfig.dark : themeConfig.light;
            
            // Apply theme to root element
            document.documentElement.style.setProperty('--bg-color', theme.background);
            document.documentElement.style.setProperty('--surface-color', theme.surface);
            document.documentElement.style.setProperty('--text-color', theme.text);
            
            // Apply theme class
            if (isDark) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
            
            // Store theme preference
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            
            // Apply theme to iframe if possible
            try {
                const gameFrame = document.getElementById('game-frame');
                if (gameFrame && gameFrame.contentWindow) {
                    gameFrame.contentWindow.postMessage({ 
                        type: 'THEME_CHANGE', 
                        theme: isDark ? 'dark' : 'light' 
                    }, '*');
                }
            } catch (e) {
                console.warn('Failed to apply theme to game iframe:', e);
            }
        }

        // Initialize theme
        function initTheme() {
            const isDarkMode = localStorage.getItem('theme') === 'dark' || 
                (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches);
            applyTheme(isDarkMode);
        }
        
        // Initialize theme on page load
        initTheme();
        
        // Listen for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
            if (!localStorage.getItem('theme')) {
                applyTheme(e.matches);
            }
        });
        
        // Listen for storage changes to keep theme in sync across tabs
        window.addEventListener('storage', function(e) {
            if (e.key === 'theme') {
                initTheme();
            }
        });
    </script>
    <style>
        :root {
            --bg-color: #FFFFFF;
            --surface-color: #F3F4F6;
            --text-color: #1F2937;
        }

        .dark {
            --bg-color: #0F0F15;
            --surface-color: #1F1F2C;
            --text-color: #E2E8F0;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Theme toggle button styles */
        #theme-toggle .dark-icon {
            display: none;
        }
        
        #theme-toggle .light-icon {
            display: block;
        }
        
        .dark #theme-toggle .dark-icon {
            display: block;
        }
        
        .dark #theme-toggle .light-icon {
            display: none;
        }

        /* Game container theme styles */
        #game-container {
            background-color: var(--surface-color);
            transition: background-color 0.3s ease;
        }

        .dark #game-container {
            background-color: var(--surface-color);
        }

        .game-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .feature-card {
            padding: 1rem;
            border-radius: 0.5rem;
            background-color: var(--surface-color);
            transition: transform 0.2s;
        }
        
        .feature-card:hover {
            transform: translateY(-2px);
        }
        
        .social-share-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
        }
        
        .social-share-btn:hover {
            transform: translateY(-1px);
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        /* 点赞按钮动画样式 */
        .like-animation-container {
            overflow: hidden;
        }

        .like-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .like-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: particleFloat 1s ease-out forwards;
        }

        @keyframes particleFloat {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        /* 点赞按钮点击效果 */
        .like-btn-active {
            animation: likeButtonPulse 0.3s ease-out;
        }

        @keyframes likeButtonPulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }

        /* 点赞按钮激活状态 */
        #like-btn.liked {
            background: linear-gradient(to right, #ff4b4b, #ff6b6b);
            border: none;
            pointer-events: none;
        }

        #like-btn.liked svg {
            fill: white;
            transform: scale(1.1);
        }

        #like-btn.liked .like-progress-bar {
            transform: scaleX(1) !important;
            background: rgba(255, 255, 255, 0.3);
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen">
    <!-- Navigation Bar -->
    <nav class="fixed top-0 w-full bg-white/90 dark:bg-[#0F0F15]/90 backdrop-blur-lg z-50 border-b border-[#00F3FF]/10 transition-colors duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="/" class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7D3CFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="6" x2="10" y1="11" y2="11"></line><line x1="8" x2="8" y1="9" y2="13"></line><line x1="15" x2="15.01" y1="12" y2="12"></line><line x1="18" x2="18.01" y1="10" y2="10"></line><path d="M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.544-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.152A4 4 0 0 0 17.32 5z"></path></svg>
                    <div class="text-transparent bg-clip-text bg-gradient-to-r from-[#7D3CFF] to-[#00F3FF] text-2xl font-bold">
                        GameVerse
                    </div>
                </a>
                
                <div class="flex items-center space-x-4">
                    <button id="theme-toggle" class="text-gray-700 dark:text-gray-300 hover:text-[#00F3FF] transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark-icon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="light-icon"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-8 pt-20 max-w-6xl">
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
            <div>
                <h1 class="text-4xl font-bold mb-2">Bleach vs Naruto 3.3</h1>
                <div class="flex flex-wrap items-center gap-4">
                    <div class="flex items-center">
                        <div class="bg-gradient-to-r from-[#7D3CFF] to-[#00F3FF] text-white px-4 py-1.5 rounded-full text-sm font-medium flex items-center gap-1.5 shadow-lg shadow-purple-500/20">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                            4.9/5
                        </div>
                        <span class="text-sm text-gray-500 dark:text-gray-400 ml-2 font-medium">(2,367 votes)</span>
                    </div>
                </div>
            </div>
            
            <div class="flex gap-2 mt-4 md:mt-0">
                <button class="social-share-btn bg-blue-500 hover:bg-blue-600 text-white relative group">
                    <div class="share-notification absolute right-full top-1/2 -translate-y-1/2 bg-green-500 text-white px-4 py-2 rounded-lg mr-2 opacity-0 invisible transform scale-95 translate-x-2 transition-all duration-300 whitespace-nowrap">
                        Copied! Share with your friends and play together!
                    </div>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/>
                    </svg>
                </button>
                <button id="like-btn" class="social-share-btn bg-red-500 hover:bg-red-600 text-white relative overflow-hidden group">
                    <div class="absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>
                    <div class="absolute inset-0 bg-gradient-to-r from-red-500 to-pink-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    <div class="relative z-10 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transform transition-transform duration-300 group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                    </svg>
                        <span class="like-count">1,245</span>
                    </div>
                    <!-- 点赞动画效果 -->
                    <div class="like-animation-container absolute inset-0 pointer-events-none">
                        <div class="like-particles"></div>
                    </div>
                    <!-- 加载进度条 -->
                    <div class="absolute bottom-0 left-0 w-full h-1 bg-gray-200 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                        <div class="like-progress-bar h-full bg-white transform scale-x-0 transition-transform duration-300"></div>
                    </div>
                </button>
            </div>
        </div>

        <section class="mb-12 relative">
            <div class="mb-4 flex justify-end gap-2">
                <button
                    id="fullscreen-btn"
                    class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg shadow-md transition-colors duration-200 flex items-center gap-2"
                    title="Fullscreen Mode">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 11-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm14 0a1 1 0 00-1-1h-4a1 1 0 100 2h1.586l-2.293 2.293a1 1 0 001.414 1.414L15 6.414V8a1 1 0 102 0V4zM3 16a1 1 0 001 1h4a1 1 0 100-2H6.414l2.293-2.293a1 1 0 00-1.414-1.414L5 13.586V12a1 1 0 10-2 0v4zm14 0a1 1 0 01-1 1h-4a1 1 0 110-2h1.586l-2.293-2.293a1 1 0 011.414-1.414L15 13.586V12a1 1 0 112 0v4a1 1 0 01-1 1z" clip-rule="evenodd" />
                    </svg>
                    Fullscreen
                </button>
                <button
                    id="screenshot-btn"
                    class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg shadow-md transition-colors duration-200 flex items-center gap-2"
                    title="Screenshot">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" />
        </svg>
                    Screenshot
    </button>
            </div>
            <div id="game-container" class="aspect-[16/9] w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden relative">
                <div id="loading-overlay" class="absolute inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center">
                    <div class="text-white text-center">
                        <div class="animate-spin rounded-full h-12 w-12 border-4 border-white border-t-transparent mb-4 mx-auto"></div>
                        <p>Loading game...</p>
                    </div>
                </div>
                <div id="error-overlay" class="absolute inset-0 bg-gray-800 bg-opacity-75 hidden flex items-center justify-center">
                    <div class="text-white text-center p-4">
                        <svg class="w-12 h-12 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                        </svg>
                        <p class="text-xl font-semibold mb-2">Game loading failed</p>
                        <p class="text-gray-300">Please check your network connection or try again later</p>
                        <button onclick="retryLoading()" class="mt-4 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">Retry</button>
                    </div>
                </div>
                <iframe
                    id="game-frame"
                    src="https://kdata1.com/2017/06/bleachvsnaruto3"
                    class="w-full h-full border-0"
                    title="Bleach vs Naruto 3.3 Game Interface"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowFullScreen
                ></iframe>
            </div>

            <!-- Game Introduction -->
            <div class="mt-6 bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md">
                <div class="flex items-start gap-6">
                    <!-- Game Icon -->
                    <div class="hidden sm:block flex-shrink-0">
                        <div class="w-24 h-24 rounded-2xl overflow-hidden shadow-lg">
                            <img 
                                src="https://hoanghamobile.com/tin-tuc/wp-content/uploads/2023/09/naruto-vs-bleach-thumb.jpg" 
                                alt="Bleach vs Naruto 3.3 Icon" 
                                class="w-full h-full object-cover"
                            />
                        </div>
                    </div>

                    <!-- Game Description -->
                    <div class="flex-grow">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4">
                            <h3 class="text-xl font-bold text-gray-900 dark:text-white">Game Introduction</h3>
                            <div class="flex items-center gap-2 mt-2 sm:mt-0">
                                <span class="px-3 py-1 bg-gradient-to-r from-[#7D3CFF] to-[#00F3FF] text-white text-sm rounded-full font-medium">
                                    Free to Play
                                </span>
                            </div>
                        </div>

                        <div class="prose dark:prose-invert max-w-none">
                            <p class="text-gray-600 dark:text-gray-300 leading-relaxed mb-4">
                                Bleach vs Naruto 3.3 is an exciting 2D fighting game that brings together characters from the iconic anime series Naruto and Bleach for intense battles. The game features a rich roster of characters, each with unique abilities and combo moves that players can control using keyboard inputs.
                            </p>
                            <p class="text-gray-600 dark:text-gray-300 leading-relaxed">
                                The game supports both single-player and two-player modes, allowing players to choose their favorite characters and experience battles between the strongest fighters from both anime worlds. With stunning special effects and a well-designed combo system, every fight is visually impressive, making this a must-play fighting game for anime fans.
                </p>
                </div>

                        <!-- Quick Information Bar -->
                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6">
                            <div class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-[#7D3CFF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <span class="text-sm text-gray-600 dark:text-gray-400">Release: 2021</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-[#7D3CFF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                                </svg>
                                <span class="text-sm text-gray-600 dark:text-gray-400">Browser Based</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-[#7D3CFF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                                </svg>
                                <span class="text-sm text-gray-600 dark:text-gray-400">Single/Multiplayer</span>
                        </div>
                            <div class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-[#7D3CFF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <span class="text-sm text-gray-600 dark:text-gray-400">Fighting Game</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="grid md:grid-cols-2 gap-8 mb-12">
            <div class="space-y-6">
            <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md">
                    <h2 class="text-2xl font-bold mb-4">Game Features</h2>
                    <ul class="space-y-3 text-gray-600 dark:text-gray-300">
                        <li class="flex items-start gap-2">
                            <svg class="h-6 w-6 text-green-500 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                            <span>Rich character roster featuring iconic heroes from Naruto and Bleach franchises</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="h-6 w-6 text-green-500 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                            <span>Stunning special effects and combo system for exciting battles</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="h-6 w-6 text-green-500 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                            <span>Support for single-player and two-player battle modes</span>
                        </li>
                </ul>
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md">
                    <h2 class="text-2xl font-bold mb-4">How to Play</h2>
                    <ol class="list-decimal list-inside space-y-2 text-gray-600 dark:text-gray-300">
                        <li>Select your preferred character (from Naruto or Bleach series)</li>
                        <li>Learn the character's skill combinations and special techniques</li>
                        <li>Battle against AI or invite a friend for two-player mode</li>
                        <li>Unlock more characters and hidden abilities</li>
                    </ol>
                </div>
                </div>

            <div class="space-y-6">
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md">
                    <h2 class="text-2xl font-bold mb-4">Game Controls</h2>
                    <div class="space-y-3 text-gray-600 dark:text-gray-300">
                        <div class="flex items-center gap-2">
                            <kbd class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded">A/D</kbd>
                            <span>Move left/right</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <kbd class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded">S</kbd>
                            <span>Block/Defense</span>
                            </div>
                        <div class="flex items-center gap-2">
                            <kbd class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded">J</kbd>
                            <span>Attack</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <kbd class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded">K</kbd>
                            <span>Jump</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <kbd class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded">U</kbd>
                            <span>Special Attack</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <kbd class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded">I</kbd>
                            <span>Super Move</span>
                        </div>
                    </div>
            </div>

            <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md">
                    <h2 class="text-2xl font-bold mb-4">Game Tags</h2>
                    <div class="flex flex-wrap gap-2">
                        <!-- Fighting Game tag -->
                        <span class="px-3 py-1.5 bg-gradient-to-br from-[#7D3CFF] to-[#00F3FF] text-white rounded-full text-sm font-medium shadow-lg shadow-purple-500/20 flex items-center gap-1 hover:scale-105 transition-transform">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                <path d="M20.2 20.2c2.04-2.03.02-7.22-4.53-11.77-4.55-4.55-9.74-6.57-11.77-4.53-2.03 2.04-.02 7.22 4.53 11.77 4.55 4.55 9.74 6.57 11.77 4.53z" />
                            </svg>
                            Fighting Game
                        </span>
                        
                        <!-- Anime Game tag -->
                        <span class="px-3 py-1.5 bg-gradient-to-br from-pink-500 to-rose-500 text-white rounded-full text-sm font-medium shadow-lg shadow-pink-500/20 flex items-center gap-1 hover:scale-105 transition-transform">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9.5 21h5"></path>
                                <path d="M5 8.2c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C7.48 3.4 8.32 3.4 10 3.4h4c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C19 5.68 19 6.52 19 8.2v7.6c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C16.52 20.6 15.68 20.6 14 20.6h-4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C5 18.32 5 17.48 5 15.8V8.2Z"></path>
                            </svg>
                            Anime Game
                        </span>

                        <!-- Multiplayer tag -->
                        <span class="px-3 py-1.5 bg-gradient-to-br from-amber-500 to-orange-500 text-white rounded-full text-sm font-medium shadow-lg shadow-amber-500/20 flex items-center gap-1 hover:scale-105 transition-transform">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 8h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2v4l-4-4H9a1.994 1.994 0 0 1-1.414-.586m0 0L11 14h4a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2v4l.586-.586z"></path>
                            </svg>
                            Multiplayer
                        </span>

                        <!-- Naruto tag -->
                        <span class="px-3 py-1.5 bg-gradient-to-br from-green-400 to-emerald-500 text-white rounded-full text-sm font-medium shadow-lg shadow-green-500/20 flex items-center gap-1 hover:scale-105 transition-transform">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18.5 19.5h-13"></path>
                                <path d="M5 15.5v4"></path>
                                <path d="M19 15.5v4"></path>
                                <path d="M3 7l4.5-2.5 4.5 2.5 4.5-2.5L21 7"></path>
                                <path d="M3 10l4.5-2.5 4.5 2.5 4.5-2.5L21 10"></path>
                                <path d="M3 13l4.5-2.5 4.5 2.5 4.5-2.5L21 13"></path>
                            </svg>
                            Naruto
                        </span>

                        <!-- Bleach tag -->
                        <span class="px-3 py-1.5 bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-full text-sm font-medium shadow-lg shadow-blue-500/20 flex items-center gap-1 hover:scale-105 transition-transform">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 12c-1.657 0-3-1.567-3-3.5S10.343 5 12 5s3 1.567 3 3.5-1.343 3.5-3 3.5z"></path>
                                <path d="M3 18v-2c0-1.387.782-2.5 2.5-3.5m13 3.5v-2c0-1.387-.782-2.5-2.5-3.5"></path>
                                <path d="M5.5 15.5C3.125 16.25 2 17.5 2 20v1h20v-1c0-2.5-1.125-3.75-3.5-4.5"></path>
                            </svg>
                            Bleach
                        </span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Game Resources and Guides -->
        <section class="mb-12">
            <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-md">
                <button id="resources-toggle" class="flex justify-between items-center w-full text-left">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Game Resources & Guides</h2>
                    <svg id="resources-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transform transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
                
                <div id="resources-content" class="mt-4">
                    <div class="space-y-6">
                        <!-- Official Guide -->
                        <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-[#7D3CFF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                </svg>
                                Official Guide: How to Play Bleach vs Naruto 3.3
                            </h3>
                            <div class="ml-7 space-y-2">
                                <a href="https://kbhgames.com/game/bleach-vs-naruto-3" target="_blank" rel="noopener noreferrer" class="flex items-center text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                                    </svg>
                                    <span>Bleach vs Naruto 3.3 - Start Playing Now</span>
                                </a>
                                <div class="text-gray-600 dark:text-gray-300 text-sm mt-2">
                                    <h4 class="font-semibold mb-2">Getting Started with Bleach vs Naruto 3.3</h4>
                                    <p class="mb-3">Welcome to Bleach vs Naruto 3.3, a fighting game that combines characters from both Naruto and Bleach anime universes! Follow these simple steps to begin your fighting journey:</p>
                                    
                                    <ol class="list-decimal list-inside space-y-2 pl-1">
                                        <li><span class="font-medium">Game Controls:</span> For Player 1, use A/D to move, S to block, J for attacks, K to jump, L to sprint, U for special attacks, I for super moves when you have enough mana, and O to summon assistance</li>
                                        <li><span class="font-medium">Select Game Mode:</span> Choose from story mode, versus mode, or two-player battle mode</li>
                                        <li><span class="font-medium">Choose Your Character:</span> Select from a roster of over 40 characters from Naruto or Bleach</li>
                                        <li><span class="font-medium">Learn Combos:</span> Master special combo moves using combinations like S+J, S+U, S+I, W+J, W+U, and W+I</li>
                                        <li><span class="font-medium">Special Techniques:</span> Press J+K to transform when your SP meter is full (not all characters can transform)</li>
                                    </ol>
                                    
                                    <h4 class="font-semibold mt-4 mb-2">Advanced Tips</h4>
                                    <ul class="list-disc list-inside space-y-1 pl-1">
                                        <li>Use Quick Recovery by pressing L when knocked down</li>
                                        <li>Perform Quiet Step with S+L or W+L to cancel combos and dodge</li>
                                        <li>Use Combo Breaker by pressing O while being hit to escape combos</li>
                                        <li>Manage your SP meter - don't waste it all at once</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Video Tutorials -->
                        <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-[#7D3CFF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                </svg>
                                Latest Tutorials & Featured Battles
                            </h3>
                            <div class="ml-7 space-y-2">
                                <a href="https://www.youtube.com/watch?v=_t0LGYWtntw" target="_blank" rel="noopener noreferrer" class="flex items-center text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                                    </svg>
                                    <span>Bleach VS Naruto 3.3 Full Gameplay Walkthrough</span>
                                </a>
                                <a href="https://www.youtube.com/watch?v=5eicFl5KSIc" target="_blank" rel="noopener noreferrer" class="flex items-center text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                                    </svg>
                                    <span>Bleach Vs Naruto 3.3 Gameplay</span>
                                </a>
                                <div class="mt-4 mb-2 text-gray-700 dark:text-gray-300 font-medium">Version 3.3 Updates:</div>
                                <div class="text-gray-600 dark:text-gray-300 text-sm">
                                    <ul class="list-disc list-inside space-y-1">
                                        <li>Added Suì-Fēng from Bleach as a playable character</li>
                                        <li>Redesigned Ichigo</li>
                                        <li>Added Byakuya Kuchiki as a playable character</li>
                                        <li>Added Rangiku Matsumoto as summon character</li>
                                        <li>Redesign of Kakashi Hatake from Naruto</li>
                                        <li>Fixed various bugs and improved balance</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="text-sm text-gray-600 dark:text-gray-400 mt-4 italic">
                            <p>Bleach vs Naruto 3.3 is a Flash-based free fighting game that combines characters from the Naruto and Bleach anime franchises. The game was developed by 5dplay and features 48 main characters and 35 summon characters. All links are verified as of 2024. GameVerse is not affiliated with the game development team.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="mt-12 py-4 border-t border-gray-200 dark:border-gray-800">
        <div class="container mx-auto px-4 max-w-6xl text-center text-xs text-gray-500 dark:text-gray-400">
            <div class="flex justify-center items-center space-x-4">
                <a href="../#/privacy-policy" class="hover:text-gray-700 dark:hover:text-gray-300 transition-colors">Privacy Policy</a>
                <span>•</span>
                <a href="../terms-of-service.html#/terms-of-service" class="hover:text-gray-700 dark:hover:text-gray-300 transition-colors">Terms of Service</a>
                <span>•</span>
                <span>© 2024 GameVerse. All rights reserved.</span>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('game-container');
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            const screenshotBtn = document.getElementById('screenshot-btn');
            const gameFrame = document.getElementById('game-frame');
            const loadingOverlay = document.getElementById('loading-overlay');
            const errorOverlay = document.getElementById('error-overlay');
            const themeToggleBtn = document.getElementById('theme-toggle');
            
            // 添加资源下拉框切换功能
            const resourcesToggle = document.getElementById('resources-toggle');
            const resourcesContent = document.getElementById('resources-content');
            const resourcesIcon = document.getElementById('resources-icon');
            
            // 设置默认状态为展开(旋转箭头)
            resourcesIcon.classList.add('rotate-180');
            
            resourcesToggle.addEventListener('click', function() {
                resourcesContent.classList.toggle('hidden');
                resourcesIcon.classList.toggle('rotate-180');
            });
            
            // 初始化游戏卡片链接
            initGameCardLinks();
            
            // Theme toggle functionality
            themeToggleBtn.addEventListener('click', function() {
                const isDark = document.documentElement.classList.contains('dark');
                applyTheme(!isDark);
            });
            
            // 根据游戏标题构建文件路径并设置链接
            function initGameCardLinks() {
                const gameCards = document.querySelectorAll('#games-scroll a');
                
                gameCards.forEach(card => {
                    const titleElement = card.querySelector('h3');
                    if (titleElement) {
                        const gameTitle = titleElement.textContent.trim();
                        // 构建游戏文件路径 - 根据已有游戏文件的命名规则处理
                        let fileName;
                        
                        // 特殊游戏文件名映射表
                        const specialGames = {
                            'Block Blast': 'Block Blast.html',
                            'Wave Dash': 'wave-dash.html',
                            'Slither.io': 'slither.io.html',
                            'Fireboy and Watergirl': 'Fireboy and Watergirl 5 Elements.html',
                            'Bleach vs Naruto': 'Bleach vs Naruto 3.3.html',
                            'Coup Ahoo': 'Coup Ahoo.html',
                            'Sprunki': 'Sprunki.html'
                        };
                        
                        if (specialGames[gameTitle]) {
                            // 如果是已知的特殊游戏名称，直接使用映射的文件名
                            fileName = specialGames[gameTitle];
                        } else if (gameTitle.includes('.io')) {
                            // 处理 .io 游戏
                            fileName = gameTitle.toLowerCase() + '.html';
                        } else {
                            // 默认情况：转换为小写并用连字符替换空格
                            fileName = gameTitle.toLowerCase().replace(/\s+/g, '-') + '.html';
                        }
                        
                        // 设置完整链接路径
                        card.href = '/comeplay/games/' + fileName;
                        
                        // 调试信息
                        console.log(`游戏"${gameTitle}"的链接设置为: ${card.href}`);
                    }
                });
            }
            
            let loadAttempts = 0;
            const maxLoadAttempts = 3;
            let gameLoaded = false;
            
            // Preload game
            function loadGame() {
                loadingOverlay.style.display = 'flex';
                errorOverlay.style.display = 'none';
                
                // Add random parameter to prevent caching issues
                const timestamp = new Date().getTime();
                gameFrame.src = `https://kdata1.com/2017/06/bleachvsnaruto3?t=${timestamp}`;
            }
            
            // Listen for iframe load status
            gameFrame.addEventListener('load', function() {
                // Check if iframe content loaded successfully
                try {
                    // Try to access iframe content, if successful then loading is normal
                    const iframeContent = gameFrame.contentWindow || gameFrame.contentDocument;
                    if (iframeContent) {
                        // Set a short delay to ensure content is fully rendered
                        setTimeout(() => {
                            loadingOverlay.style.display = 'none';
                            gameLoaded = true;
                            loadAttempts = 0;
                        }, 1000);
                    } else {
                        handleLoadError();
                    }
                } catch (e) {
                    handleLoadError();
                }
            });
            
            // Listen for iframe load errors
            gameFrame.addEventListener('error', handleLoadError);
            
            function handleLoadError() {
                loadAttempts++;
                if (loadAttempts < maxLoadAttempts) {
                    console.log(`Game loading failed, attempting retry ${loadAttempts}...`);
                    // Auto retry
                    setTimeout(loadGame, 1500);
                } else {
                    loadingOverlay.style.display = 'none';
                    errorOverlay.style.display = 'flex';
                    console.error('Game loading failed, maximum retry attempts reached');
                }
            }
            
            // Check if iframe is black screen
            function checkBlackScreen() {
                if (!gameLoaded) {
                    try {
                        const iframeDoc = gameFrame.contentDocument || gameFrame.contentWindow.document;
                        // If iframe content is empty or has very little content, it might be a black screen
                        if (!iframeDoc || !iframeDoc.body || iframeDoc.body.innerHTML.trim().length < 50) {
                            handleLoadError();
                        }
                    } catch (e) {
                        // Cross-domain issues may prevent content access
                        console.log('Unable to check iframe content, possible cross-domain restriction');
                    }
                }
            }
            
            // Initial game load
            loadGame();
            
            // Check for black screen after 5 seconds
            setTimeout(checkBlackScreen, 5000);
            
            // Retry loading function
            window.retryLoading = function() {
                loadAttempts = 0;
                gameLoaded = false;
                loadGame();
            };

            // Fullscreen functionality
            fullscreenBtn.addEventListener('click', function() {
                if (!document.fullscreenElement) {
                    container.requestFullscreen().catch(err => {
                        alert('Fullscreen mode failed to launch: ' + err.message);
                    });
                } else {
                    document.exitFullscreen();
                }
            });

            // Screenshot functionality
            screenshotBtn.addEventListener('click', async function() {
                try {
                    const canvas = await html2canvas(container);
                    const link = document.createElement('a');
                    link.download = 'sprunki-screenshot.png';
                    link.href = canvas.toDataURL();
                    link.click();
                } catch (err) {
                    alert('Screenshot failed: ' + err.message);
                }
            });

            // Listen for fullscreen changes
            document.addEventListener('fullscreenchange', function() {
                fullscreenBtn.innerHTML = document.fullscreenElement ?
                    '<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5 4a1 1 0 00-1 1v4a1 1 0 01-2 0V5a3 3 0 013-3h4a1 1 0 010 2H5zm10 0a1 1 0 011 1v4a1 1 0 102 0V5a3 3 0 00-3-3h-4a1 1 0 100 2h4zM5 16a1 1 0 001 1h4a1 1 0 100-2H6a1 1 0 01-1-1v-4a1 1 0 10-2 0v4a3 3 0 003 3zm10 0a1 1 0 00-1-1h-4a1 1 0 100 2h4a3 3 0 003-3v-4a1 1 0 10-2 0v4a1 1 0 01-1 1z" clip-rule="evenodd" /></svg>Exit Fullscreen' :
                    '<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 11-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm14 0a1 1 0 00-1-1h-4a1 1 0 100 2h1.586l-2.293 2.293a1 1 0 001.414 1.414L15 6.414V8a1 1 0 102 0V4zM3 16a1 1 0 001 1h4a1 1 0 100-2H6.414l2.293-2.293a1 1 0 00-1.414-1.414L5 13.586V12a1 1 0 10-2 0v4zm14 0a1 1 0 01-1 1h-4a1 1 0 110-2h1.586l-2.293-2.293a1 1 0 011.414-1.414L15 13.586V12a1 1 0 112 0v4a1 1 0 01-1 1z" clip-rule="evenodd" /></svg>Fullscreen';
            });

            const scrollContainer = document.getElementById('games-scroll');
            const scrollLeftBtn = document.getElementById('scroll-left');
            const scrollRightBtn = document.getElementById('scroll-right');
            const cardWidth = 316; // 300px card width + 16px gap

            // 滚动按钮点击事件
            scrollLeftBtn.addEventListener('click', () => {
                scrollContainer.scrollBy({
                    left: -cardWidth * 2,
                    behavior: 'smooth'
                });
            });

            scrollRightBtn.addEventListener('click', () => {
                scrollContainer.scrollBy({
                    left: cardWidth * 2,
                    behavior: 'smooth'
                });
            });

            // 添加鼠标滚轮横向滚动
            scrollContainer.addEventListener('wheel', (e) => {
                if (e.deltaY !== 0) {
                    e.preventDefault();
                    scrollContainer.scrollBy({
                        left: e.deltaY,
                        behavior: 'smooth'
                    });
                }
            });

            // 更新按钮状态
            function updateScrollButtons() {
                scrollLeftBtn.style.opacity = scrollContainer.scrollLeft <= 0 ? '0.5' : '1';
                scrollRightBtn.style.opacity = 
                    scrollContainer.scrollLeft >= scrollContainer.scrollWidth - scrollContainer.clientWidth 
                    ? '0.5' 
                    : '1';
            }

            scrollContainer.addEventListener('scroll', updateScrollButtons);
            updateScrollButtons(); // 初始状态

            // 点赞按钮动画效果
            const likeBtn = document.getElementById('like-btn');
            const likeCount = likeBtn.querySelector('.like-count');
            const progressBar = likeBtn.querySelector('.like-progress-bar');
            const particlesContainer = likeBtn.querySelector('.like-particles');
            
            // 从 localStorage 获取点赞状态和数量
            let isLiked = localStorage.getItem('sprunki_liked') === 'true';
            let storedLikeCount = parseInt(localStorage.getItem('sprunki_like_count')) || 1245;
            
            // 初始化点赞状态
            function initLikeState() {
                likeCount.textContent = storedLikeCount.toLocaleString();
                if (isLiked) {
                    likeBtn.classList.add('liked');
                    progressBar.style.transform = 'scaleX(1)';
                }
            }
            
            // 初始化点赞状态
            initLikeState();

            likeBtn.addEventListener('click', function() {
                if (!isLiked) {
                    // 添加点击动画
                    this.classList.add('like-btn-active');
                    setTimeout(() => this.classList.remove('like-btn-active'), 300);

                    // 更新点赞数
                    storedLikeCount++;
                    likeCount.textContent = storedLikeCount.toLocaleString();
                    
                    // 保存到 localStorage
                    localStorage.setItem('sprunki_liked', 'true');
                    localStorage.setItem('sprunki_like_count', storedLikeCount.toString());

                    // 创建粒子效果
                    createParticles();

                    // 更新进度条
                    progressBar.style.transform = 'scaleX(1)';
                    this.classList.add('liked');

                    isLiked = true;
                }
            });

            function createParticles() {
                const particleCount = 8;
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'like-particle';
                    
                    // 随机位置和方向
                    const angle = (i / particleCount) * Math.PI * 2;
                    const distance = 50;
                    const tx = Math.cos(angle) * distance;
                    const ty = Math.sin(angle) * distance;
                    
                    particle.style.setProperty('--tx', `${tx}px`);
                    particle.style.setProperty('--ty', `${ty}px`);
                    particle.style.left = '50%';
                    particle.style.top = '50%';
                    
                    particlesContainer.appendChild(particle);
                    
                    // 动画结束后移除粒子
                    setTimeout(() => {
                        particle.remove();
                    }, 1000);
                }
            }

            // 鼠标悬停时显示进度条
            likeBtn.addEventListener('mouseenter', function() {
                if (!isLiked) {
                    progressBar.style.transform = 'scaleX(1)';
                }
            });

            likeBtn.addEventListener('mouseleave', function() {
                if (!isLiked) {
                    progressBar.style.transform = 'scaleX(0)';
                }
            });

            // Share button functionality
            const shareBtn = document.querySelector('.social-share-btn');
            const shareNotification = shareBtn.querySelector('.share-notification');

            shareBtn.addEventListener('click', async function() {
                try {
                    // Get the current URL
                    const url = window.location.href;
                    
                    // Copy to clipboard
                    await navigator.clipboard.writeText(url);
                    
                    // Show notification
                    shareNotification.style.opacity = '1';
                    shareNotification.style.visibility = 'visible';
                    shareNotification.style.transform = 'translate(0, -50%) scale(1)';
                    
                    // Hide notification after 2 seconds
                    setTimeout(() => {
                        shareNotification.style.opacity = '0';
                        shareNotification.style.visibility = 'hidden';
                        shareNotification.style.transform = 'translate(8px, -50%) scale(0.95)';
                    }, 2000);
                } catch (err) {
                    console.error('Failed to copy URL:', err);
                }
            });
        });
    </script>
</body>
</html>